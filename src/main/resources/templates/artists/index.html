<!DOCTYPE html>
<html lang="fr" th:replace="~{layout :: layout(~{::title}, ~{::.content}, ~{::script})}">
    <title>Réservations - Artists</title>


<div class="content">
    <h2>Liste des Artistes</h2>


    <!-- Messages de succès et d'erreur -->
    <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
    <div th:if="${deleteError}" class="alert alert-danger" th:text="${deleteError}"></div>


        <div class="actions">
            <a th:href="@{/artists/create}">Add new Artists</a>
        </div>



        <table th:unless="${#lists.isEmpty(artists)}">
            <thead>
            <tr>
                <th>Prénom</th>
                <th>Nom</th>
                <th colspan="3"> Actions </th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="artist : ${artists}">
                <td th:text="|${artist.firstname}|">Daniel</td>
                <td th:text="|${artist.lastname}|">Marcelin</td>

                <td><a th:href="@{/artists/{id}(id=${artist.id})}">View</a> </td>
                <td><a th:href="@{/artists/{id}/edit(id=${artist.id})}">Edit</a></td>
                <td>
                    <form th:id="|deleteForm-${artist.id}|"
                          th:action="@{/artists/{id}(id=${artist.id})}" th:method="delete">
                        <a href="#" th:onclick="|if(confirm('Confirm delete Artist #${artist.id} ?'))
                                       document.getElementById('deleteForm-${artist.id}').submit();
                                       return false;|">Delete</a>


                            <p th:if="${successMessage}" th:text="${successMessage}" class="alert-success"></p>
                            <p th:if="${deleteError}" th:text="${deleteError}" class="alert-danger"></p>

                    </form>


                </td>
            </tr>
            </tbody>
        </table>



</div>

</html>
